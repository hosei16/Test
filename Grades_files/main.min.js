"use strict";define("main",["jquery","lodash","app/plugins","fixes"],function(t,e){t(document).on("style-forms.hp",function(){t('select:not([data-pretty="false"])').each(function(){t(this).trigger("bootstrap-select")}),t("input:not([readonly]):not([disabled]).input-box").addClear()}),t(document).on("bootstrap-select","select",function(){t(this).selectpicker({container:"body",mobile:t.browser.mobile}).css({visibility:"visible"})}),t(document).on("shown.bs.dropdown",".btn-group:not(.bootstrap-select), .dropdown:not(.bootstrap-select)",function(){var e=t(this),n=e.find(".dropdown-menu"),o=t("body > section");if(0!==o.length){var a=o.offset().top,i=t(window).height(),d=n.offset().top,r=n.outerHeight(!0);i<d+r&&a<d-r&&!e.hasClass("dropup")&&e.addClass("dropup").one("hidden.bs.dropdown",function(){t(this).removeClass("dropup")})}}),t(document).on("keyup change",'input[data-filter="true"]',e.throttle(function(){var e=t(this).val().toUpperCase(),n=t(this).data("list-item"),o=t(this).data("list-item-filter")||"";t(n).show(),0!==e.length&&t(n).each(function(){var n=t(this).find(o+':containsi("'+e+'")');t(this).toggle(n.length>0)})},500)),t(function(){function e(){t(".header-right").attr("aria-expanded","false").attr("tabindex","0"),t("nav#options-menu a").attr("tabindex","-1"),t("nav#options-menu h4").attr("tabindex","-1"),t(".close-options").attr("tabindex","-1")}function n(){t(".header-right").attr("aria-expanded","true").attr("tabindex","-1"),t("nav#options-menu a").attr("tabindex","0"),t("nav#options-menu h4").attr("tabindex","0"),t(".close-options").attr("tabindex","0")}function o(){t("nav.sidebar a").attr("tabindex","-1"),t(".close-sidebar").attr("tabindex","-1").attr("aria-expanded","false"),t(".header-left .btn-open").attr("aria-expanded","false").attr("tabindex","0")}function a(){t(".header-left .btn-open").attr("aria-expanded","true").attr("tabindex","-1"),t("nav.sidebar a").attr("tabindex","0"),t(".close-sidebar").attr("tabindex","0").attr("aria-expanded","true")}t(document).trigger("style-forms");var i=t(".header-left .btn-open");t(document).keypress(function(e){13===e.which&&(document.activeElement===t(".header-right:first")[0]&&t('[data-action="open-right"]').first().trigger("click.menu"),document.activeElement===t(".close-options:first")[0]&&t('[data-action="open-right"]').first().trigger("click.menu"),i.is(":visible")&&(document.activeElement===i[0]&&t('[data-action="open-left"]').first().trigger("click.menu"),document.activeElement===t(".close-sidebar:first")[0]&&t('[data-action="open-left"]').first().trigger("click.menu")))}),i.is(":visible")&&(o(),i.focus()),t("[data-action]").on("click.menu",function(){var i=t(this).data("action"),d="open-right"===i?"open-left":"open-right";if(-1!==["open-left","open-right"].indexOf(i)){var r=t("body"),c={state:r.hasClass(i)?"close":"open",direction:i};r.trigger("toggling-menu",c).toggleClass(i).removeClass(d).trigger("toggled-menu",c),"open"===c.state?"open-left"===c.direction?(a(),t("nav header a").first().focus()):n():"open-left"===c.direction?(o(),t(".header-left .btn-open").focus()):e(),setTimeout(function(){t("section.main").one("click",function(n){if(!t(n.target).is("[data-action]")){var a={state:"close",direction:i};r.trigger("toggling-menu",a).removeClass(i).trigger("toggled-menu",a),"open-left"===a.direction?o():e()}})},300)}}),t("section.main .options-menu").click(function(t){t.stopPropagation()}),t(document).keyup(function(e){27===e.keyCode&&t("body").removeClass("open-left open-right")}),t('[role="dialog"]:not([data-backdrop="true"])').on("show.bs.modal",function(){t(this).closest("section").append('<div class="overlay" style="display:none"></div>').find(".overlay").fadeIn()}).on("hide.bs.modal",function(){t(this).closest("section").find(".overlay").fadeOut(function(){t(this).remove()})}),t("[data-timeout]").each(function(){var e=this,n=t(this).data("timeout");-1!==n&&setTimeout(function(){t(e).alert("close")},1e3*n)}),t(".ios-app-link").click(function(){var e=t(this).data("direct-link"),n=t(this).data("store-link"),o=(new Date).valueOf();setTimeout(function(){(new Date).valueOf()-o>100||(window.location=n)},25),window.location=e})}),t(document).on("show.bs.modal",".modal",function(){var e=1040+10*t(".modal:visible").length;t(this).css("z-index",e),setTimeout(function(){t(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")},0)}),t(document).on("hidden.bs.modal",".modal",function(){t(".modal:visible").length&&t(document.body).addClass("modal-open")}),t(document).on("show.bs.collapse hide.bs.collapse",".panel-collapse",function(e){this===e.target&&t(this).prev().find('[class*="circle"]').toggleClass("ico-circle-plus ico-circle-minus")});var n=!1;t(document).on("warn-before-navigation",function(){n||(t(window).on("beforeunload.warn",function(t){return t.returnValue="Unsaved changes will be lost.","Unsaved changes will be lost."}),n=!0)}),t(document).on("change input","form[action]:not([data-no-confirm]) :input[name]:not([data-no-confirm])",function(){n||t(document).trigger("warn-before-navigation")}),t(document).on("row-added.warning row-removed.warning",function(e,o){n||void 0!==o&&"triggerWarning"in o&&!o.triggerWarning||t(document).trigger("warn-before-navigation")}),t(document).on("submit vsubmit",function(){t(window).off("beforeunload.warn"),n=!1}),t(document).on("click vclick","a[data-no-confirm]",function(){t(window).off("beforeunload.warn"),n=!1}),t(document).on("click vclick",'[data-control] input[type="checkbox"]',function(){var e=t(this).closest("[data-control]").data("control"),n=t('[data-control="'+e+'"] input:checkbox:checked').length>0;t('[data-related="'+e+'"]').each(function(){var e=t(this),o=n,a=e.data("checked");void 0!==a&&(o=n===a),e.toggleClass("hidden",!o)})}),t(document).on("change",'[data-control] input[type="radio"], [data-control] select',function(){var e=t(this),n=e.val(),o=e.closest("[data-control]").data("control");t('[data-related="'+o+'"]').each(function(){var e,o=t(this),a=o.data("value");e=a instanceof Array?a.indexOf(n)>-1:a===n,o.toggleClass("hidden",!e)})}),t(document).on("click vclick",".explain-config",function(){var e=t(this),n=t(e.data("explanation")).html();t("#explainText").find(".modal-body").html(n).end().modal("show")})});
//# sourceMappingURL=main.min.js.map