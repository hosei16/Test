define("main",["jquery","lodash","app/plugins","fixes"],function(a,b){"use strict";var c="input:not([readonly]):not([disabled])",d=c+".input-box";a(document).on("style-forms.hp",function(){a('select:not([data-pretty="false"])').each(function(){a(this).trigger("bootstrap-select")}),a(d).addClear()}),a(document).on("bootstrap-select","select",function(){var b=a(this);b.selectpicker({container:"body",mobile:a.browser.mobile}).css({visibility:"visible"})}),a(document).on("shown.bs.dropdown",".btn-group:not(.bootstrap-select), .dropdown:not(.bootstrap-select)",function(){var b=a(this),c=b.find(".dropdown-menu"),d=a("body > section");if(0!==d.length){var e=d.offset().top,f=a(window).height(),g=c.offset().top,h=c.outerHeight(!0);f<g+h&&e<g-h&&!b.hasClass("dropup")&&b.addClass("dropup").one("hidden.bs.dropdown",function(){a(this).removeClass("dropup")})}}),a(document).on("keyup change",'input[data-filter="true"]',b.throttle(function(){var b=a(this).val().toUpperCase(),c=a(this).data("list-item"),d=a(this).data("list-item-filter")||"";a(c).show(),0!==b.length&&a(c).each(function(){var c=a(this).find(d+':containsi("'+b+'")');a(this).toggle(c.length>0)})},500)),a(function(){function b(){a(".header-right").attr("aria-expanded","false").attr("tabindex","0"),a("nav#options-menu a").attr("tabindex","-1"),a("nav#options-menu h4").attr("tabindex","-1"),a(".close-options").attr("tabindex","-1")}function c(){a(".header-right").attr("aria-expanded","true").attr("tabindex","-1"),a("nav#options-menu a").attr("tabindex","0"),a("nav#options-menu h4").attr("tabindex","0"),a(".close-options").attr("tabindex","0")}function d(){a("nav.sidebar a").attr("tabindex","-1"),a(".close-sidebar").attr("tabindex","-1").attr("aria-expanded","false"),a(".header-left .btn-open").attr("aria-expanded","false").attr("tabindex","0")}function e(){a(".header-left .btn-open").attr("aria-expanded","true").attr("tabindex","-1"),a("nav.sidebar a").attr("tabindex","0"),a(".close-sidebar").attr("tabindex","0").attr("aria-expanded","true")}a(document).trigger("style-forms"),a(document).keypress(function(b){13==b.which&&(document.activeElement===a(".header-right:first")[0]&&a('[data-action="open-right"]').first().trigger("click.menu"),document.activeElement===a(".close-options:first")[0]&&a('[data-action="open-right"]').first().trigger("click.menu"),a(".header-left .btn-open").is(":visible")&&(document.activeElement===a(".header-left .btn-open")[0]&&a('[data-action="open-left"]').first().trigger("click.menu"),document.activeElement===a(".close-sidebar:first")[0]&&a('[data-action="open-left"]').first().trigger("click.menu")))}),a(".header-left .btn-open").is(":visible")&&(d(),a(".header-left .btn-open").focus()),a("[data-action]").on("click.menu",function(){var f=a(this).data("action"),g="open-right"===f?"open-left":"open-right";if(["open-left","open-right"].indexOf(f)!==-1){var h=a("body"),i={state:h.hasClass(f)?"close":"open",direction:f};h.trigger("toggling-menu",i).toggleClass(f).removeClass(g).trigger("toggled-menu",i),"open"==i.state?"open-left"==i.direction?(e(),a("nav header a").first().focus()):c():"open-left"==i.direction?(d(),a(".header-left .btn-open").focus()):b(),setTimeout(function(){a("section.main").one("click",function(c){if(!a(c.target).is("[data-action]")){var e={state:"close",direction:f};h.trigger("toggling-menu",e).removeClass(f).trigger("toggled-menu",e),"open-left"==e.direction?d():b()}})},300)}}),a("section.main .options-menu").click(function(a){a.stopPropagation()}),a(document).keyup(function(b){27===b.keyCode&&a("body").removeClass("open-left open-right")}),a('[role="dialog"]:not([data-backdrop="true"])').on("show.bs.modal",function(){a(this).closest("section").append('<div class="overlay" style="display:none"></div>').find(".overlay").fadeIn()}),a('[role="dialog"]:not([data-backdrop="true"])').on("hide.bs.modal",function(){a(this).closest("section").find(".overlay").fadeOut(function(){a(this).remove()})}),a("[data-timeout]").each(function(){var b=this,c=a(this).data("timeout");c!==-1&&setTimeout(function(){a(b).alert("close")},1e3*c)}),a(".ios-app-link").click(function(){var b=a(this).data("direct-link"),c=a(this).data("store-link"),d=(new Date).valueOf();setTimeout(function(){(new Date).valueOf()-d>100||(window.location=c)},25),window.location=b})}),a(document).on("show.bs.modal",".modal",function(){var b=1040+10*a(".modal:visible").length;a(this).css("z-index",b),setTimeout(function(){a(".modal-backdrop").not(".modal-stack").css("z-index",b-1).addClass("modal-stack")},0)}),a(document).on("hidden.bs.modal",".modal",function(){a(".modal:visible").length&&a(document.body).addClass("modal-open")}),a(document).on("show.bs.collapse hide.bs.collapse",".panel-collapse",function(b){this===b.target&&a(this).prev().find('[class*="circle"]').toggleClass("ico-circle-plus ico-circle-minus")});var e=!1;a(document).on("warn-before-navigation",function(){e||(a(window).on("beforeunload.warn",function(a){var b="Unsaved changes will be lost.";return a.returnValue=b,b}),e=!0)}),a(document).on("change input","form[action]:not([data-no-confirm]) :input[name]:not([data-no-confirm])",function(){e||a(document).trigger("warn-before-navigation")}),a(document).on("row-added.warning row-removed.warning",function(b,c){e||"undefined"!=typeof c&&"triggerWarning"in c&&!c.triggerWarning||a(document).trigger("warn-before-navigation")}),a(document).on("submit vsubmit",function(){a(window).off("beforeunload.warn"),e=!1}),a(document).on("click vclick","a[data-no-confirm]",function(){a(window).off("beforeunload.warn"),e=!1}),a(document).on("click vclick",'[data-control] input[type="checkbox"]',function(){var b=a(this),c=b.closest("[data-control]"),d=c.data("control"),e=a('[data-control="'+d+'"] input:checkbox:checked').length>0;a('[data-related="'+d+'"]').each(function(){a(this).toggle(e)})}),a(document).on("change",'[data-control] input[type="radio"], [data-control] select',function(){var b=a(this),c=b.val(),d=b.closest("[data-control]"),e=d.data("control");a('[data-related="'+e+'"]').each(function(){var b=a(this),d=b.data("value");if(d instanceof Array)var e=d.indexOf(c)>-1;else var e=d===c;b.toggle(e)})}),a(document).on("click vclick",".explain-config",function(){var b=a(this),c=a(b.data("explanation")).html(),d=a("#explainText");d.find(".modal-body").html(c).end().modal("show")})});
//# sourceMappingURL=main.min.js.map